## ***ipse_staking文档***
***
### 一、模块主要功能概括
* 矿工声明自己参与挖矿，其他人进行抵押（最多64个用户抵押)
> 必须是这个时代去声明下个时代，上个时代的声明是作废了的
* 一个era结束，重新筛选出抵押最高的110位矿工
* 这个时代开始，就对上个时代的抵押结果做一个镜像（用于每次被选中的奖励的分配依据)
* 一旦poc被选中，立马分发奖励
* 不需要去绑定账号（stash与controller)
***

### 主要方法
1. 声明自己作为下个时期的矿工
    * 设置自己的分润比
    * 随时都可以声明
    * 已经声明的不需要再次声明
    * 已经当了矿工的（这个周期）随时都在声明队列
***
2. 其他人为矿工抵押币
    * 矿工也可以给自己抵押
    * 一个矿工最多得到64个人的抵押金额
    * 已经抵押过的不能再抵押
***
3. 追加抵押
    * 已经抵押过

***
4. 解除抵押（下个周期开始不算奖励）
    * 自己抵押过
***
### 辅助方法
1. 根据抵押金额进行排序

***
### ***抵押与琐仓的逻辑关系***
考虑到按照抵押金额占比来分配奖励，容易出现强者恒强，最终打压普通用户的参与热情，作如下改进：
一个矿工下面的代币进行一年的琐仓，按照抵押比例来进行琐仓时长计算，比如你抵押金额占1/2，那么你就要琐仓一年，当然，这个琐仓时长是动态的，你也可以引进后面的用户来稀释你的比例。

